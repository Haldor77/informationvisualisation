Traceback (most recent call last):
  File "C:\Users\haldo\AppData\Local\Programs\Python\Python313\Lib\site-packages\jupyter_core\utils\__init__.py", line 154, in wrapped
    asyncio.get_running_loop()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\haldo\AppData\Local\Programs\Python\Python313\Lib\site-packages\jupyter_cache\executors\utils.py", line 58, in single_nb_execution
    executenb(
    ~~~~~~~~~^
        nb,
        ^^^
    ...<4 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "C:\Users\haldo\AppData\Local\Programs\Python\Python313\Lib\site-packages\nbclient\client.py", line 1319, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\haldo\AppData\Local\Programs\Python\Python313\Lib\site-packages\jupyter_core\utils\__init__.py", line 158, in wrapped
    return loop.run_until_complete(inner)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\haldo\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "C:\Users\haldo\AppData\Local\Programs\Python\Python313\Lib\site-packages\nbclient\client.py", line 709, in async_execute
    await self.async_execute_cell(
        cell, index, execution_count=self.code_cells_executed + 1
    )
  File "C:\Users\haldo\AppData\Local\Programs\Python\Python313\Lib\site-packages\nbclient\client.py", line 1062, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "C:\Users\haldo\AppData\Local\Programs\Python\Python313\Lib\site-packages\nbclient\client.py", line 918, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
# ‚Ä¶ (your data‚Äêprep code stays the same) ‚Ä¶

# 5) Build interactive Plotly figure with custom hovertemplate
fig = go.Figure()

# Country data points, now with customdata for the country names
fig.add_trace(go.Scatter(
    x=x, y=y, mode='markers',
    name='Landdata',
    marker=dict(size=6, opacity=0.7, line=dict(width=0.5, color='black')),
    customdata=df2019['country'],                        # voeg country toe
    hovertemplate=
        '<b>%{customdata}</b><br>'                       # toon land
        'CO‚ÇÇ: %{x:.2f} ton<br>'                          # toon CO‚ÇÇ
        'HALE: %{y:.1f} jaar<extra></extra>'             # toon levensverwachting
))

# Trendline (legend only, no hovertemplate needed)
fig.add_trace(go.Scatter(
    x=line_x, y=line_y, mode='lines',
    name=f'Trendline (R¬≤={r_value**2:.2f})',
    line=dict(dash='dash', color='red'),
    hoverinfo='skip'                                     # geen hover voor de lijn
))

# 6) Layout styling
fig.update_layout(
    title='CO‚ÇÇ per Capita vs Healthy Life Expectancy (2019)',
    xaxis_title='CO‚ÇÇ per Capita (tons)',
    yaxis_title='Healthy Life Expectancy (years)',
    hovermode='closest'
)

# Render inline as before
html_snippet = fig.to_html(include_plotlyjs='cdn', full_html=False)
from IPython.display import HTML, display
display(HTML(html_snippet))

------------------


[31m---------------------------------------------------------------------------[39m
[31mNameError[39m                                 Traceback (most recent call last)
[36mCell[39m[36m [39m[32mIn[1][39m[32m, line 4[39m
[32m      1[39m [38;5;66;03m# ‚Ä¶ (your data‚Äêprep code stays the same) ‚Ä¶[39;00m
[32m      2[39m 
[32m      3[39m [38;5;66;03m# 5) Build interactive Plotly figure with custom hovertemplate[39;00m
[32m----> [39m[32m4[39m fig = [43mgo[49m.Figure()
[32m      6[39m [38;5;66;03m# Country data points, now with customdata for the country names[39;00m
[32m      7[39m fig.add_trace(go.Scatter(
[32m      8[39m     x=x, y=y, mode=[33m'[39m[33mmarkers[39m[33m'[39m,
[32m      9[39m     name=[33m'[39m[33mLanddata[39m[33m'[39m,
[32m   (...)[39m[32m     15[39m         [33m'[39m[33mHALE: [39m[33m%[39m[38;5;132;01m{y:.1f}[39;00m[33m jaar<extra></extra>[39m[33m'[39m             [38;5;66;03m# toon levensverwachting[39;00m
[32m     16[39m ))

[31mNameError[39m: name 'go' is not defined

